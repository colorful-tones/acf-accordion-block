{"version":3,"file":"accordion.js","mappings":";;;;;;;;;;;;;;AAAA,aAAa,oCAAoC,YAAY,mBAAmB,KAAK,mBAAmB,sEAAsE,SAAS,wBAAwB,QAAQ,kBAAkB,EAAE,oBAAoB,yFAAyF,YAAY,YAAY,cAAc,6BAA6B,wJAAwJ,EAAE,qDAAqD,qCAAqC,yBAAyB,ySAAyS,UAAU,4DAA4D,+CAA+C,cAAc,8FAA8F,gBAAgB,8FAA8F,EAAE,EAAE,+BAA+B,2FAA2F,4HAA4H,wBAAwB,oFAAoF,qBAAqB,0BAA0B,0BAA0B,2CAA2C,+BAA+B,qBAAqB,IAAI,2BAA2B,EAAE,EAAE,oBAAoB,+CAA+C,sCAAsC,2BAA2B,4FAA4F,oBAAoB,0BAA0B,EAAE,GAAG,EAAE,kFAAkF,EAAE,GAAG,EAAE,uCAAuC,+CAA+C,EAAE,oBAAoB,4BAA4B,EAAE,GAAG,EAAE,+EAA+E,EAAE,GAAG,EAAE,GAAG,EAAE,qBAAqB,MAAM,iBAAiB,GAAG,yKAAyK,sBAAsB,MAAM,iBAAiB,GAAG,4KAA4K,uBAAuB,iFAAiF,4BAA4B,sSAAsS,2BAA2B,MAAM,yBAAyB,aAAa,KAAK,wCAAwC,MAAM,+BAA+B,MAAM,mDAAmD,MAAM,mDAAmD,cAAc,+DAAe,CAAC,EAAwB;AACxkH;;;;;;;;;;;;ACDA;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNA;AACA;AACA;AAC0B;AACwB;AAElD,IAAK,OAAOC,MAAM,CAACC,iBAAiB,KAAK,QAAQ,EAAG;EACnDD,MAAM,CAACC,iBAAiB,GAAG,CAAC,CAAC;AAC9B;AAEAD,MAAM,CAACC,iBAAiB,CAACF,SAAS,GAAGA,iEAAS;AAE9C,SAASG,cAAc,GAAG;EACzB,IAAID,iBAAiB,CAACF,SAAS,CAAE,YAAY,CAAE;AAChD;AAEAI,QAAQ,CAACC,gBAAgB,CAAE,kBAAkB,EAAE,MAAM;EACpD,IAAKJ,MAAM,CAACK,GAAG,EAAG;IACjBL,MAAM,CAACK,GAAG,CAACC,SAAS,CAAE,sBAAsB,EAAEJ,cAAc,CAAE;EAC/D,CAAC,MAAM;IACNA,cAAc,EAAE;EACjB;AACD,CAAC,CAAE,C","sources":["webpack://acf-accordion-block/./node_modules/@10up/component-accordion/dist/index.modern.js","webpack://acf-accordion-block/./src/accordion.scss","webpack://acf-accordion-block/webpack/bootstrap","webpack://acf-accordion-block/webpack/runtime/define property getters","webpack://acf-accordion-block/webpack/runtime/hasOwnProperty shorthand","webpack://acf-accordion-block/webpack/runtime/make namespace object","webpack://acf-accordion-block/./src/accordion.js"],"sourcesContent":["function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}class e{constructor(e,n={}){this.evtCallbacks={},window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(let n=0;n<this.length;n++)t.call(e,this[n],n,this)}),e&&\"string\"==typeof e?(this.$accordions=document.querySelectorAll(e),this.$accordions?(document.documentElement.classList.add(\"js\"),this.settings=t({},{onCreate:null,onOpen:null,onClose:null,onToggle:null},n),this.$accordions.forEach((t,e)=>{this.setupAccordion(t,e)}),this.settings.onCreate&&\"function\"==typeof this.settings.onCreate&&this.settings.onCreate.call()):console.error(\"10up Accordion: Target not found. A valid target (accordion area) must be used.\")):console.error(\"10up Accordion: No target supplied. A valid target (accordion area) must be used.\")}destroy(){this.removeAllEventListeners(),this.$accordions.forEach(t=>{const[e,n]=this.getAccordionLinksAndContent(t);e.forEach(t=>{t.removeAttribute(\"id\"),t.removeAttribute(\"aria-expanded\"),t.removeAttribute(\"aria-controls\")}),n.forEach(t=>{t.removeAttribute(\"id\"),t.removeAttribute(\"aria-hidden\"),t.removeAttribute(\"aria-labelledby\")})})}getAccordionLinksAndContent(t){const e=t.querySelectorAll(\".accordion-header\"),n=t.querySelectorAll(\".accordion-content\");return[Array.prototype.slice.call(e).filter(e=>e.parentNode===t),Array.prototype.slice.call(n).filter(e=>e.parentNode===t)]}addEventListener(t,e,n){void 0===this.evtCallbacks[e]&&(this.evtCallbacks[e]=[]),this.evtCallbacks[e].push({element:t,callback:n}),t.addEventListener(e,n)}removeAllEventListeners(){Object.keys(this.evtCallbacks).forEach(t=>{this.evtCallbacks[t].forEach(({element:e,callback:n})=>{e.removeEventListener(t,n)})})}setupAccordion(t,e){const[n,o]=this.getAccordionLinksAndContent(t);this.addEventListener(t,\"keydown\",e=>{const o=e.target,s=e.which;o.classList.contains(\"accordion-header\")&&o.parentNode===t&&this.accessKeyBindings(n,o,s,e)}),n.forEach((t,n)=>{t.setAttribute(\"id\",`tab${e}-${n}`),t.setAttribute(\"aria-expanded\",\"false\"),t.setAttribute(\"aria-controls\",`panel${e}-${n}`),this.addEventListener(t,\"click\",t=>{t.preventDefault(),this.toggleAccordionItem(t)})}),o.forEach((t,n)=>{t.setAttribute(\"id\",`panel${e}-${n}`),t.setAttribute(\"aria-hidden\",\"true\"),t.setAttribute(\"aria-labelledby\",`tab${e}-${n}`)})}openAccordionItem(t){const{link:e,content:n}=t;e.setAttribute(\"aria-expanded\",\"true\"),n.setAttribute(\"aria-hidden\",\"false\"),this.settings.onOpen&&\"function\"==typeof this.settings.onOpen&&this.settings.onOpen.call(t)}closeAccordionItem(t){const{link:e,content:n}=t;e.setAttribute(\"aria-expanded\",\"false\"),n.setAttribute(\"aria-hidden\",\"true\"),this.settings.onClose&&\"function\"==typeof this.settings.onClose&&this.settings.onClose.call(t)}toggleAccordionItem(t){const e=t.target,n=e.nextElementSibling,o=n.querySelector(\".accordion-label\"),s={link:e,content:n,heading:o};e.classList.toggle(\"is-active\"),n.classList.toggle(\"is-active\"),o&&(o.setAttribute(\"tabindex\",-1),o.focus()),n.classList.contains(\"is-active\")?this.openAccordionItem(s):this.closeAccordionItem(s),this.settings.onToggle&&\"function\"==typeof this.settings.onToggle&&this.settings.onToggle.call(s)}accessKeyBindings(t,e,n,o){let s;switch(t.forEach((t,n)=>{e===t&&(s=n)}),n){case 35:s=t.length-1,o.preventDefault();break;case 36:s=0,o.preventDefault();break;case 38:s--,s<0&&(s=t.length-1),o.preventDefault();break;case 40:s++,s>t.length-1&&(s=0),o.preventDefault()}t[s].focus()}}export default e;export{e as Accordion};\n//# sourceMappingURL=index.modern.js.map\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * Accordion styling and state.\n */\nimport './accordion.scss';\nimport Accordion from '@10up/component-accordion';\n\nif ( typeof window.ACFAccordionBlock !== 'object' ) {\n\twindow.ACFAccordionBlock = {};\n}\n\nwindow.ACFAccordionBlock.Accordion = Accordion;\n\nfunction accordionsInit() {\n\tnew ACFAccordionBlock.Accordion( '.accordion' );\n}\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tif ( window.acf ) {\n\t\twindow.acf.addAction( 'render_block_preview', accordionsInit );\n\t} else {\n\t\taccordionsInit();\n\t}\n} );\n"],"names":["Accordion","window","ACFAccordionBlock","accordionsInit","document","addEventListener","acf","addAction"],"sourceRoot":""}